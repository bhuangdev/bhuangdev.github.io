(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{528:function(e,t,n){"use strict";n.r(t);var a=n(70),l=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"å†å²å‰ç«¯æ¡†æ¶ç¬”è®°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å†å²å‰ç«¯æ¡†æ¶ç¬”è®°"}},[e._v("#")]),e._v(" å†å²å‰ç«¯æ¡†æ¶ç¬”è®°")]),e._v(" "),n("h2",{attrs:{id:"åŠ¨æ€åˆ‡æ¢ç»„ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€åˆ‡æ¢ç»„ä»¶"}},[e._v("#")]),e._v(" åŠ¨æ€åˆ‡æ¢ç»„ä»¶")]),e._v(" "),n("p",[e._v("https://blog.csdn.net/liangmengbk/article/details/85013547")]),e._v(" "),n("h2",{attrs:{id:"vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼"}},[e._v("#")]),e._v(" vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼")]),e._v(" "),n("blockquote",[n("p",[e._v("é¡µé¢ç»„ä»¶åŒ–æ¶‰åŠåˆ°çˆ¶å­ç»„ä»¶ä¼ å€¼çš„é—®é¢˜ï¼Œéœ€è¦ç”¨åˆ°propså’Œemit")])]),e._v(" "),n("ul",[n("li",[e._v("çˆ¶ç»„ä»¶å¼•")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(' <Dialog\n \t:dialogVisible="visible"   //éœ€è¦å‘å­ç»„ä»¶ä¼ å€¼çš„å±æ€§\n \t:title="title"\n\t:width="width"\n \t@changeVisible="changeV"   //å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼åŠæ“ä½œçš„é€”å¾„æ–¹æ³•\n />\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('import Dialog from "@/newsModules/noticeDialog";\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("components: {\n\tDialog\n}\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('dataé‡Œ\nvisibleï¼šfalse,\ntitle:"",\nwidth:""\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("changeV(e) {\n\tthis.visible = e;    //eæ˜¯ä»å­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼\n\tthis.getNoticeData(); //å­ç»„ä»¶ä¼ å€¼çš„åŒæ—¶è°ƒç”¨çˆ¶ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•æ¥åˆ·æ–°çˆ¶ç»„ä»¶çš„å€¼\n}\n")])])]),n("ul",[n("li",[e._v("å­ç»„ä»¶å®šä¹‰")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("balabala(ç»„ä»¶ä»£ç )\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('props: {    //ç”¨propså®šä¹‰éœ€è¦ä»çˆ¶ç»„ä»¶æ¥æ”¶å€¼çš„å˜é‡\n    dialogVisible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ""\n    },\n    width: {\n      type: String,\n      default: ""\n    }\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('handleClose() {\n\tthis.$emit("changeVisible", false);  //æŠŠfalseä½œä¸ºå€¼ä¼ ç»™changeVisibleæ–¹æ³•\n}\n')])])]),n("h2",{attrs:{id:"tableç»„ä»¶-å†™columns-å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tableç»„ä»¶-å†™columns-å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹"}},[e._v("#")]),e._v(" tableç»„ä»¶ å†™columns å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('prop: "action",\nlabel: this.$t("noticePage.OPERATE"),\nalign: "center",\ntableWidth: 260,\nrender: (createElement, params) => {\n    return createElement("div", [\n        createElement(\n            "td-button",\n            {\n                style: "min-width:25px !important",\n                attrs: {\n                \ttype: "text"\n                },\n\n                on: {\n                    click: _ => {\n                    \tthis.openDialog(params.row);\n                    }\n                }\n            },\n            "ç¼–è¾‘"\n        )\n    ]);\n    }\n}\n')])])]),n("h2",{attrs:{id:"æ—¥æœŸç»„ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥æœŸç»„ä»¶"}},[e._v("#")]),e._v(" æ—¥æœŸç»„ä»¶")]),e._v(" "),n("ul",[n("li",[e._v("æ—¥æœŸé™åˆ¶")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("pickerBeginDateBefore: {\n    disabledDate: time => {\n        let beginDateVal = new Date(this.ruleForm.patrolEndTime).getTime();\n        if (beginDateVal) {\n        \treturn time.getTime() > beginDateVal;   //å¼€å§‹æ—¥æœŸå°äºç»“æŸæ—¥æœŸ\n        }\n    }\n},\npickerBeginDateAfter: {\n    disabledDate: time => {\n        let beginDateVal = new Date(this.ruleForm.patrolStartTime).getTime();\n        if (beginDateVal) {\n            return (                //ç»“æŸæ—¥æœŸå¤§äºå¼€å§‹æ—¥æœŸä¸”å°äºå¼€å§‹æ—¥æœŸåŠ 7å¤©\n                time.getTime() < beginDateVal - 24 * 60 * 60 * 1000 ||\n                time.getTime() > beginDateVal + 30 * 24 * 60 * 60 * 1000\n            );\n        }\n    }\n}\n")])])]),n("h2",{attrs:{id:"drags"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#drags"}},[e._v("#")]),e._v(" drags")]),e._v(" "),n("p",[e._v("https://blog.csdn.net/weixin_41910848/article/details/82218243")]),e._v(" "),n("h2",{attrs:{id:"æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­"}},[e._v("#")]),e._v(" æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('if (this.title == "æ·»åŠ ") {\n    this.addItems();\n    this.$nextTick(() => {\n    \tthis.dialogClose();\n    });\n} else {\n    this.editItems();\n    this.$nextTick(() => {\n    \tthis.dialogClose();\n    });\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('dialogClose() {\n    this.$emit("changeVisible", false);  //å…³é—­\n    this.$emit("changeData");\t\t\t //åˆ·æ–°\n}\n')])])]),n("h2",{attrs:{id:"el-date-picker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#el-date-picker"}},[e._v("#")]),e._v(" el-date-picker")]),e._v(" "),n("p",[e._v("initDefaultDate() {")]),e._v(" "),n("p",[e._v('var s1 = moment(new Date()).format("YYYY-MM-DD 08:00:00");')]),e._v(" "),n("p",[e._v('var s2 = moment(new Date()).format("YYYY-MM-DD 17:00:00");')]),e._v(" "),n("p",[e._v("this.leaveForm.leaveDate = [s1, s2];")]),e._v(" "),n("p",[e._v("this.leaveForm.totalHour = 8;")]),e._v(" "),n("p",[e._v("}")]),e._v(" "),n("p",[e._v("changeDate() {")]),e._v(" "),n("p",[e._v("var from = moment(new Date(this.leaveForm.leaveDate[0])).format(")]),e._v(" "),n("p",[e._v("â€‹    this.leaveForm.leaveDate[0].getMinutes() >= 30")]),e._v(" "),n("p",[e._v('â€‹     ? "YYYY-MM-DD HH:30:00"')]),e._v(" "),n("p",[e._v('â€‹     : "YYYY-MM-DD HH:00:00"')]),e._v(" "),n("p",[e._v(");")]),e._v(" "),n("p",[e._v("var to = moment(new Date(this.leaveForm.leaveDate[1])).format(")]),e._v(" "),n("p",[e._v("â€‹    this.leaveForm.leaveDate[1].getMinutes() >= 30")]),e._v(" "),n("p",[e._v('â€‹     ? "YYYY-MM-DD HH:30:00"')]),e._v(" "),n("p",[e._v('â€‹     : "YYYY-MM-DD HH:00:00"')]),e._v(" "),n("p",[e._v(");")]),e._v(" "),n("p",[e._v("this.leaveForm.leaveDate = [from, to];")]),e._v(" "),n("p",[e._v('var fromDate = from.toString().split(" ")[0];')]),e._v(" "),n("p",[e._v('var toDate = to.toString().split(" ")[0];')]),e._v(" "),n("p",[e._v('var fromDateArr = fromDate.split("-");')]),e._v(" "),n("p",[e._v('var toDateArr = toDate.split("-");')]),e._v(" "),n("p",[e._v("var totalDays = Math.abs(")]),e._v(" "),n("p",[e._v("â€‹    (new Date(")]),e._v(" "),n("p",[e._v('â€‹     fromDateArr[1] + "-" + fromDateArr[2] + "-" + fromDateArr[0]')]),e._v(" "),n("p",[e._v("â€‹    ) -")]),e._v(" "),n("p",[e._v('â€‹     new Date(toDateArr[1] + "-" + toDateArr[2] + "-" + toDateArr[0])) /')]),e._v(" "),n("p",[e._v("â€‹     1000 /")]),e._v(" "),n("p",[e._v("â€‹     60 /")]),e._v(" "),n("p",[e._v("â€‹     60 /")]),e._v(" "),n("p",[e._v("â€‹     24")]),e._v(" "),n("p",[e._v(");")]),e._v(" "),n("p",[e._v("var totalDaysfloor = Math.floor(totalDays);")]),e._v(" "),n("p",[e._v("var totalHour = 0;")]),e._v(" "),n("p",[e._v("if (0 !== totalDays) {")]),e._v(" "),n("p",[e._v("â€‹    totalHour = totalDaysfloor * 8;")]),e._v(" "),n("p",[e._v('â€‹    var additionalHour = to.toString().split(" ")[1].split("ğŸ˜Š[0];')]),e._v(" "),n("p",[e._v("â€‹    totalHour += additionalHour > 8 ? additionalHour - 8 : 0;")]),e._v(" "),n("p",[e._v("} else {")]),e._v(" "),n("p",[e._v('â€‹    var fromTime = from.toString().split(" ")[1];')]),e._v(" "),n("p",[e._v('â€‹    var toTime = to.toString().split(" ")[1];')]),e._v(" "),n("p",[e._v('â€‹    totalHour = Math.abs(toTime.split("ğŸ˜Š[0] - fromTime.split("ğŸ˜Š[0]);')]),e._v(" "),n("p",[e._v("}")]),e._v(" "),n("p",[e._v("this.leaveForm.totalHour = totalHour;")]),e._v(" "),n("p",[e._v("},")]),e._v(" "),n("h2",{attrs:{id:"el-tableåˆ†é¡µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#el-tableåˆ†é¡µ"}},[e._v("#")]),e._v(" el-tableåˆ†é¡µ")]),e._v(" "),n("blockquote",[n("p",[e._v("æ³¨æ„ï¼štotalä¸€å®šè¦èµ‹å€¼")])]),e._v(" "),n("ol",[n("li",[e._v("el-tableå±æ€§")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(':data="tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)"\n')])])]),n("ol",{attrs:{start:"2"}},[n("li",[e._v("åˆ†é¡µä»£ç ")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<div style="text-align: center;margin-top: 30px;">\n\t<el-pagination\n\t\tbackground\n\t\tlayout="prev, pager, next"\n\t\t:total="total"\n\t\t@current-change="current_change"\n\t></el-pagination>\n</div\n')])])]),n("ol",{attrs:{start:"3"}},[n("li",[e._v("dataä¸­å®šä¹‰")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("total: 0,\npagesize: 10,\ncurrentPage: 1\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[e._v("methodsä¸­å®šä¹‰")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("current_change: function (currentPage) {\n\tthis.currentPage = currentPage;\n}\n")])])]),n("h2",{attrs:{id:"el-table-è¡Œå†…åŠ form-ruleéªŒè¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#el-table-è¡Œå†…åŠ form-ruleéªŒè¯"}},[e._v("#")]),e._v(" el-table è¡Œå†…åŠ form ruleéªŒè¯")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<el-table-column :label="SCORE" align="center">\n              <template slot-scope="scope">\n                <el-form :model="scope.row" :rules="scoreRules" ref="scoreRef" z-index="999">\n                  <el-form-item prop="aScore">\n                    <td-input\n                      v-model="scope.row.aScore"\n                      id="scoreInput"\n                      style="width:100px !important;"\n                    ></td-input>\n                  </el-form-item>\n                </el-form>\n              </template>\n            </el-table-column>\n')])])]),n("h2",{attrs:{id:"foreach-filter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#foreach-filter"}},[e._v("#")]),e._v(" forEach filter")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('schedulingListTemp.forEach((element) => {\n                    var patrolUserIdTemp = element.patrolUserId;\n                    var item = response.data.content.filter(\n                      (t) => t.id == patrolUserIdTemp\n                    );\n                    if (item.length != 0) {\n                      var temp = {};\n                      temp.patrolPName = item[0].name;\n                      temp.patrolPNameShow =\n                        item[0].name + "(" + item[0].personNo + ")";\n                      temp.patrolPeopleOrganizetion = item[0].deptName;\n                      temp.patrolRouteText = element.patrolRouteText;\n                      temp.patrolBeginTime = element.patrolBeginTime;\n                      temp.patrolEndTime = element.patrolEndTime;\n                      temp.patrolUserId = element.patrolUserId;\n                      temp.patrolLineId = element.patrolLineId;\n                      _this.schedulingList.push(temp);\n                    } else {\n                      var temp2 = {};\n                      temp2.patrolPName = "";\n                      temp2.patrolPNameShow = "";\n                      temp2.patrolPeopleOrganizetion = "";\n                      temp2.patrolRouteText = element.patrolRouteText;\n                      temp2.patrolBeginTime = element.patrolBeginTime;\n                      temp2.patrolEndTime = element.patrolEndTime;\n                      temp2.patrolUserId = element.patrolUserId;\n                      temp2.patrolLineId = element.patrolLineId;\n                      _this.schedulingList.push(temp2);\n                    }\n                  });\n')])])]),n("h2",{attrs:{id:"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"}},[e._v("#")]),e._v(" å¯Œæ–‡æœ¬ç¼–è¾‘å™¨")]),e._v(" "),n("ul",[n("li",[e._v("ç”¨")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<Editor v-model="noticeContent" />\n')])])]),n("ul",[n("li",[e._v("å¼•")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("import Editor from '@/components/Editor';\ncomponents: {\n\tEditor\n}\nnoticeContent:\"\"\n")])])]),n("ul",[n("li",[e._v("æº")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n  <div>\n    \x3c!-- å›¾ç‰‡ä¸Šä¼ ç»„ä»¶è¾…åŠ© --\x3e\n    <el-upload\n      class="avatar-uploader quill-img"\n      :action="uploadImgUrl"\n      name="file"\n      :headers="headers"\n      :show-file-list="false"\n      :on-success="quillImgSuccess"\n      :on-error="uploadError"\n      :before-upload="quillImgBefore"\n      accept=".jpg, .jpeg, .png, .gif"\n    ></el-upload>\n\n    \x3c!-- å¯Œæ–‡æœ¬ç»„ä»¶ --\x3e\n    <quill-editor\n      class="editor"\n      v-model="content"\n      ref="quillEditor"\n      :options="editorOption"\n      @blur="onEditorBlur($event)"\n      @focus="onEditorFocus($event)"\n      @change="onEditorChange($event)"\n    ></quill-editor>\n  </div>\n</template>\n\n<script>\nimport { getToken } from "@/utils/auth";\n\n// å·¥å…·æ é…ç½®\nconst toolbarOptions = [\n  ["bold", "italic", "underline", "strike"], // åŠ ç²— æ–œä½“ ä¸‹åˆ’çº¿ åˆ é™¤çº¿\n  ["blockquote", "code-block"], // å¼•ç”¨  ä»£ç å—\n  [{ list: "ordered" }, { list: "bullet" }], // æœ‰åºã€æ— åºåˆ—è¡¨\n  [{ indent: "-1" }, { indent: "+1" }], // ç¼©è¿›\n  [{ size: ["small", false, "large", "huge"] }], // å­—ä½“å¤§å°\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // æ ‡é¢˜\n  [{ color: [] }, { background: [] }], // å­—ä½“é¢œè‰²ã€å­—ä½“èƒŒæ™¯é¢œè‰²\n  [{ align: [] }], // å¯¹é½æ–¹å¼\n  ["clean"], // æ¸…é™¤æ–‡æœ¬æ ¼å¼\n  ["link", "image", "video"], // é“¾æ¥ã€å›¾ç‰‡ã€è§†é¢‘\n];\n\nimport { quillEditor } from "vue-quill-editor";\nimport "quill/dist/quill.core.css";\nimport "quill/dist/quill.snow.css";\nimport "quill/dist/quill.bubble.css";\n\nexport default {\n  props: {\n    /* ç¼–è¾‘å™¨çš„å†…å®¹ */\n    value: {\n      type: String,\n    },\n    /* å›¾ç‰‡å¤§å° */\n    maxSize: {\n      type: Number,\n      default: 4000, //kb\n    },\n  },\n  components: { quillEditor },\n  data() {\n    return {\n      content: this.value,\n      uploadImgUrl: "",\n      editorOption: {\n        placeholder: "",\n        theme: "snow", // or \'bubble\'\n        placeholder: "è¯·è¾“å…¥å†…å®¹",\n        modules: {\n          toolbar: {\n            container: toolbarOptions,\n            handlers: {\n              image: function (value) {\n                if (value) {\n                  // è§¦å‘inputæ¡†é€‰æ‹©å›¾ç‰‡æ–‡ä»¶\n                  document.querySelector(".quill-img input").click();\n                } else {\n                  this.quill.format("image", false);\n                }\n              },\n            },\n          },\n        },\n      },\n      uploadImgUrl: process.env.VUE_APP_BASE_API + "/common/upload", // ä¸Šä¼ çš„å›¾ç‰‡æœåŠ¡å™¨åœ°å€ï¼ˆè¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼‰\n      headers: {\n        Authorization: "Bearer " + getToken(),ï¼ˆè¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼‰\n      },\n    };\n  },\n  watch: {\n    value: function () {\n      this.content = this.value;\n    },\n  },\n  methods: {\n    onEditorBlur() {\n      //å¤±å»ç„¦ç‚¹äº‹ä»¶\n    },\n    onEditorFocus() {\n      //è·å¾—ç„¦ç‚¹äº‹ä»¶\n    },\n    onEditorChange() {\n      //å†…å®¹æ”¹å˜äº‹ä»¶\n      this.$emit("input", this.content);\n    },\n\n    // å¯Œæ–‡æœ¬å›¾ç‰‡ä¸Šä¼ å‰\n    quillImgBefore(file) {\n      let fileType = file.type;\n      if (fileType === "image/jpeg" || fileType === "image/png") {\n        return true;\n      } else {\n        this.$message.error("è¯·æ’å…¥å›¾ç‰‡ç±»å‹æ–‡ä»¶(jpg/jpeg/png)");\n        return false;\n      }\n    },\n\n    quillImgSuccess(res, file) {\n      // resä¸ºå›¾ç‰‡æœåŠ¡å™¨è¿”å›çš„æ•°æ®\n      // è·å–å¯Œæ–‡æœ¬ç»„ä»¶å®ä¾‹\n      let quill = this.$refs.quillEditor.quill;\n      // å¦‚æœä¸Šä¼ æˆåŠŸ\n      if (res.code == 200) {\n        // è·å–å…‰æ ‡æ‰€åœ¨ä½ç½®\n        let length = quill.getSelection().index;\n        // æ’å…¥å›¾ç‰‡  res.urlä¸ºæœåŠ¡å™¨è¿”å›çš„å›¾ç‰‡åœ°å€\n        quill.insertEmbed(length, "image", res.url);\n        // è°ƒæ•´å…‰æ ‡åˆ°æœ€å\n        quill.setSelection(length + 1);\n      } else {\n        this.$message.error("å›¾ç‰‡æ’å…¥å¤±è´¥");\n      }\n    },\n    // å¯Œæ–‡æœ¬å›¾ç‰‡ä¸Šä¼ å¤±è´¥\n    uploadError() {\n      // loadingåŠ¨ç”»æ¶ˆå¤±\n      this.$message.error("å›¾ç‰‡æ’å…¥å¤±è´¥");\n    },\n  },\n};\n<\/script> \n\n<style>\n.editor {\n  line-height: normal !important;\n  height: 692px;\n}\n.quill-img {\n  display: none;\n}\n.ql-snow .ql-tooltip[data-mode="link"]::before {\n  content: "è¯·è¾“å…¥é“¾æ¥åœ°å€:";\n}\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: "ä¿å­˜";\n  padding-right: 0px;\n}\n\n.ql-snow .ql-tooltip[data-mode="video"]::before {\n  content: "è¯·è¾“å…¥è§†é¢‘åœ°å€:";\n}\n\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: "14px";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value="small"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value="small"]::before {\n  content: "10px";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value="large"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value="large"]::before {\n  content: "18px";\n}\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value="huge"]::before,\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value="huge"]::before {\n  content: "32px";\n}\n\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: "æ–‡æœ¬";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {\n  content: "æ ‡é¢˜1";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {\n  content: "æ ‡é¢˜2";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {\n  content: "æ ‡é¢˜3";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {\n  content: "æ ‡é¢˜4";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {\n  content: "æ ‡é¢˜5";\n}\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {\n  content: "æ ‡é¢˜6";\n}\n\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: "æ ‡å‡†å­—ä½“";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="serif"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="serif"]::before {\n  content: "è¡¬çº¿å­—ä½“";\n}\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="monospace"]::before,\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="monospace"]::before {\n  content: "ç­‰å®½å­—ä½“";\n}\n</style>\n')])])]),n("h2",{attrs:{id:"ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§"}},[e._v("#")]),e._v(" ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§")]),e._v(" "),n("blockquote",[n("p",[e._v("åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°åŠ¨æ€å–å€¼ä¹‹åvueç»„ä»¶ä¸èƒ½åˆ·æ–°çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•å°±æ˜¯åˆ©ç”¨v-ifï¼Œæ”¹å˜çŠ¶æ€ï¼Œå¼ºåˆ¶åˆ·æ–°")])]),e._v(" "),n("ul",[n("li",[e._v('åœ¨è¦åˆ·æ–°çš„ç»„ä»¶ä¸Šå®šä¹‰v-if="hackReset"')])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('v-if="hackReset"\n')])])]),n("ul",[n("li",[e._v("dataé‡Œå®šä¹‰å˜é‡")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("hackReset: true\n")])])]),n("ul",[n("li",[e._v("åœ¨éœ€è¦åˆ·æ–°çš„ä½ç½®åŠ ä¸Šåˆ·æ–°ä»£ç ")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("this.hackReset = false;\nthis.$nextTick(() => {\n\tthis.hackReset = true;\n});\n")])])]),n("h2",{attrs:{id:"å¯¼å…¥å¯¼å‡º"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯¼å…¥å¯¼å‡º"}},[e._v("#")]),e._v(" å¯¼å…¥å¯¼å‡º")]),e._v(" "),n("ul",[n("li",[e._v("å¯¼å‡º")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<el-button type="primary" @click="btnExport">å¯¼å‡º</el-button>\n\nbtnExport() {\n      let queryParam = {};\n      api.exportData(queryParam, response => {\n        if (response.data.statusMessage === "-1") {\n          this.$message({\n            showClose: true,\n            message: "å¯¼å‡ºå¤±è´¥",\n            type: "error"\n          });\n          return;\n        }\n        this.doDownload(response.request.responseURL);\n        this.$message({\n          showClose: true,\n          message: "å¯¼å‡ºæˆåŠŸï¼",\n          type: "success"\n        });\n      });\n    },\n    doDownload(src) {\n      var a = document.createElement("a");\n      a.href = src;\n      document.body.appendChild(a);\n      a.click();\n    }\n')])])]),n("ul",[n("li",[e._v("å¯¼å…¥")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<el-button type="primary" @click="btnImport">å¯¼å…¥</el-button>\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("btnImport() {\n\tthis.importVisible = true\n}\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n  <div>\n    <td-dialog\n      :visible="importVisible"\n      v-dialogDrag\n      :title="IMPORT"\n      width="25%"\n      :before-close="importDialogClose"\n    >\n      <el-row>\n        <el-col :span="16" style="margin-top:10px;margin-bottom:5px;">\n          <td-button type="primary" @click="chooseFile">{{SELECTFILE}}</td-button>\n          <td-button @click="upLoadFile">{{UPLOADFILE}}</td-button>\n        </el-col>\n        <el-col style="margin-bottom:30px;">\n          <span style="font-size:10px;">{{ONLIEXCEL}}</span>\n        </el-col>\n        <el-col style="margin-bottom:30px;text-align:center">\n          <span style="font-size:14px; color:#666">{{uploadFileName}}</span>\n          <td-button\n            @click="removeFile"\n            type="text"\n            size="small"\n            v-show="uploadFileName != \'\'"\n            style="font-size:14px; color:#000; padding-left: 30px"\n          >{{DELFILE}}</td-button>\n          <input type="file" id="btn_file" style="display:none" accept=".xls" ref="btnFile" />\n        </el-col>\n      </el-row>\n      <span slot="footer" class="dialog-footer">\n        <td-button @click="importTemplate">{{IMPORTMODELDOWNLOAD}}</td-button>\n        <td-button @click="importCancel">{{CANCEL}}</td-button>\n      </span>\n    </td-dialog>\n  </div>\n</template>\n\n<script>\nimport api from "@/assets/api";\nexport default {\n  props: {\n    importVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      IMPORT: this.$t("sightWordImportDialog.IMPORT"),\n      SELECTFILE: this.$t("sightWordImportDialog.SELECTFILE"),\n      UPLOADFILE: this.$t("sightWordImportDialog.UPLOADFILE"),\n      ONLIEXCEL: this.$t("sightWordImportDialog.ONLIEXCEL"),\n      DELFILE: this.$t("sightWordImportDialog.DELFILE"),\n      IMPORTMODELDOWNLOAD: this.$t("sightWordImportDialog.IMPORTMODELDOWNLOAD"),\n      CANCEL: this.$t("sightWordImportDialog.CANCEL"),\n      uploadFileName: ""\n    };\n  },\n  methods: {\n    importDialogClose() {\n      this.$emit("importDialogClose");\n    },\n    importTemplate() {\n      let aTag = document.createElement("a");\n      aTag.href =\n        "http://192.168.96.44:7000/mclz/filemanagement/sightWordTemplate.xls";\n      document.body.appendChild(aTag);\n      aTag.click();\n    },\n    chooseFile() {\n      let _this = this;\n      let btnImport = this.$refs.btnFile;\n      btnImport.click();\n      btnImport.onchange = function() {\n        _this.importData(btnImport.files);\n      };\n    },\n    importData(files) {\n      if (files.length > 0) {\n        let fileName = files[files.length - 1].name;\n        if (fileName.indexOf(".xls", fileName.length - ".xls".length) === -1) {\n          this.$message.error({\n            showClose: true,\n            message: $t("sightWordImportDialog.EILEMESSAGEERROR")\n          });\n          this.$refs.btnFile.value = "";\n          return;\n        } else {\n          if (files[files.length - 1].size / 1024 / 1024 > 300) {\n            this.$message.error({\n              showClose: true,\n              message: $t("sightWordImportDialog.FILESIZELESS300M")\n            });\n            this.$refs.btnFile.value = "";\n            return;\n          }\n          this.uploadFileName = fileName;\n        }\n      }\n    },\n    upLoadFile() {\n      let files = this.$refs.btnFile.files;\n      if (files.length === 0) {\n        this.$message.error({\n          showClose: true,\n          message: $t("sightWordImportDialog.FILESIZELESS300M")\n        });\n        this.$refs.btnFile.value = "";\n        return;\n      }\n      let header = {};\n      let params = new FormData();\n      params.append("file", this.$refs.btnFile.files[files.length - 1]);\n      api.importData(params, response => {\n        if (response.data.statusCode === "API-COMMON-INF-OK") {\n          this.$message({\n            showClose: true,\n            message: $t("sightWordImportDialog.FILESIZELESS300M"),\n            type: "success"\n          });\n          this.importDialogClose();\n        } else {\n          this.$message({\n            showClose: true,\n            message: $t("sightWordImportDialog.FILESIZELESS300M"),\n            type: "error"\n          });\n        }\n        this.$refs.btnFile.value = "";\n        this.uploadFileName = "";\n      });\n    },\n    removeFile() {\n      this.$refs.btnFile.value = "";\n      this.uploadFileName = "";\n    },\n    importCancel() {\n      this.importDialogClose();\n    }\n  }\n};\n<\/script>\n\n<style>\n</style>\n')])])]),n("h2",{attrs:{id:"åŒ¹é…æ‹¼æ¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŒ¹é…æ‹¼æ¥"}},[e._v("#")]),e._v(" åŒ¹é…æ‹¼æ¥")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('for (var i = 0; i < _this.patrolPeople.length; i++) {\n          if (_this.patrolPeople[i].patrolPName.match(_this.patrolUserName)) {\n            userIdTempArray.push(_this.patrolPeople[i].patrolPId);\n          }\n        }\n        userId = userIdTempArray.join(",");\n        if (userId === "") {\n          _this.schedulingList = [];\n          _this.total = 0;\n          return;\n        }\n')])])]),n("h2",{attrs:{id:"tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼"}},[e._v("#")]),e._v(" tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼")]),e._v(" "),n("ul",[n("li",[e._v("æ ¹æ®æ¯ä¸€åˆ—alert0show,alert1show,alert3showçš„å€¼æ¥ç¡®å®šæ˜¾ç¤ºå“ªä¸ªå›¾æ ‡")]),e._v(" "),n("li",[e._v("æ ¹æ®æ¯ä¸€åˆ—patrolAlarmçš„å€¼æ¥è®¾å®šæ–‡å­—çš„æ ·å¼  ï¼ˆåŠ¨æ€èµ‹class,classé‡Œå®šä¹‰æ ·å¼ï¼‰")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(' <el-table-column prop="patrolAlarm"  width="148" align="center">\n     <template slot-scope="scope">\n     <i class="el-icon-success" v-show="scope.row.alert0show" style="color:#7E9913"></i>\n     <i class="el-icon-warning" v-show="scope.row.alert1show" style="color:#FA4F4F"></i>\n     <i class="el-icon-time" v-show="scope.row.alert3show" style="color:#7E9913"></i>&nbsp;\n     <span\n     :class="((scope.row.patrolAlarm === \'1\') || (scope.row.patrolAlarm === \'4\') || (scope.row.patrolAlarm === \'5\')) ? \'redColor\':\'greenColor\'"\n     >{{scope.row.sAlertType}}</span>\n     </template>\n </el-table-column>\n')])])]),n("h2",{attrs:{id:"js-æ•°ç»„å¯¹è±¡-ä»¥æŸä¸€å¯¹è±¡-æ’åº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js-æ•°ç»„å¯¹è±¡-ä»¥æŸä¸€å¯¹è±¡-æ’åº"}},[e._v("#")]),e._v(" js æ•°ç»„å¯¹è±¡ ä»¥æŸä¸€å¯¹è±¡ æ’åº")]),e._v(" "),n("p",[e._v("this.tableData.sort(this.compare('formateDate'))\ncompare(property){"),n("br"),e._v("\nreturn function(a,b){\nvar value1 = a[property];\nvar value2 = b[property];\nreturn value2 - value1;\n}\n}")])])}),[],!1,null,null,null);t.default=l.exports}}]);