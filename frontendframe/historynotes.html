<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å†å²å‰ç«¯æ¡†æ¶ç¬”è®° | Bin&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="ä¸ªäººå­¦ä¹ è®°å½•">
    
    <link rel="preload" href="/assets/css/0.styles.bf69baaf.css" as="style"><link rel="preload" href="/assets/js/app.c519572e.js" as="script"><link rel="preload" href="/assets/js/2.b6ef3095.js" as="script"><link rel="preload" href="/assets/js/3.fa77217e.js" as="script"><link rel="preload" href="/assets/js/15.dd5feed6.js" as="script"><link rel="prefetch" href="/assets/js/10.14f550fc.js"><link rel="prefetch" href="/assets/js/11.464d316f.js"><link rel="prefetch" href="/assets/js/12.6ffea25e.js"><link rel="prefetch" href="/assets/js/13.d1c3b454.js"><link rel="prefetch" href="/assets/js/14.103579a4.js"><link rel="prefetch" href="/assets/js/16.ce54d860.js"><link rel="prefetch" href="/assets/js/17.999ca336.js"><link rel="prefetch" href="/assets/js/18.6b943f21.js"><link rel="prefetch" href="/assets/js/19.781dcc2b.js"><link rel="prefetch" href="/assets/js/20.60cc9b5d.js"><link rel="prefetch" href="/assets/js/21.3da4fd69.js"><link rel="prefetch" href="/assets/js/22.c6030360.js"><link rel="prefetch" href="/assets/js/23.32b7a93f.js"><link rel="prefetch" href="/assets/js/24.a78b3a95.js"><link rel="prefetch" href="/assets/js/4.23e7f437.js"><link rel="prefetch" href="/assets/js/5.8c30e054.js"><link rel="prefetch" href="/assets/js/6.554d8a26.js"><link rel="prefetch" href="/assets/js/7.58ec27f7.js"><link rel="prefetch" href="/assets/js/8.b58bc272.js"><link rel="prefetch" href="/assets/js/9.9c330930.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bf69baaf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Bin's blog" class="logo"> <span class="site-name can-hide">Bin's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯åŸºç¡€" class="dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯åŸºç¡€" class="mobile-dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontendbase/historynotes.html" class="nav-link">
  å†å²ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendbase/é‡å­¦å‰ç«¯.html" class="nav-link">
  é‡å­¦å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/frontendbase/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯æ¡†æ¶" class="dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯æ¡†æ¶" class="mobile-dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontendframe/historynotes.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  å†å²ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/æ‰‹æ’•vueæºç -01.html" class="nav-link">
  æ‰‹æ’•vueæºç ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/VUEå¼€å‘å®è·µç¬”è®°.html" class="nav-link">
  VUEå¼€å‘å®è·µç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/å¸¸ç”¨è°ƒè¯•å·¥å…·å’ŒæŠ“åŒ…å·¥å…·.html" class="nav-link">
  å¸¸ç”¨è°ƒè¯•å·¥å…·å’ŒæŠ“åŒ…å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/others/W3Cå­¦ä¹ .html" class="nav-link">
  W3Cå­¦ä¹ 
</a></li><li class="dropdown-item"><!----> <a href="/others/CSharpç¬”è®°.html" class="nav-link">
  CSharpç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/others/echarts.html" class="nav-link">
  echarts
</a></li><li class="dropdown-item"><!----> <a href="/others/dojo&amp;å…¼å®¹é—®é¢˜.html" class="nav-link">
  dojo&amp;å…¼å®¹é—®é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/others/httpç½‘ç»œè¯·æ±‚çŠ¶æ€ç .html" class="nav-link">
  httpç½‘ç»œè¯·æ±‚çŠ¶æ€ç 
</a></li><li class="dropdown-item"><!----> <a href="/others/SqlServer.html" class="nav-link">
  SqlServer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®è·µæ€»ç»“" class="dropdown-title"><span class="title">å®è·µæ€»ç»“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®è·µæ€»ç»“" class="mobile-dropdown-title"><span class="title">å®è·µæ€»ç»“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/practice/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  å…³äºæˆ‘
</a></div><div class="nav-item"><a href="https://github.com/bhuangdev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯åŸºç¡€" class="dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯åŸºç¡€" class="mobile-dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontendbase/historynotes.html" class="nav-link">
  å†å²ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendbase/é‡å­¦å‰ç«¯.html" class="nav-link">
  é‡å­¦å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/frontendbase/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯æ¡†æ¶" class="dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯æ¡†æ¶" class="mobile-dropdown-title"><span class="title">å‰ç«¯æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontendframe/historynotes.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  å†å²ç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/æ‰‹æ’•vueæºç -01.html" class="nav-link">
  æ‰‹æ’•vueæºç ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/VUEå¼€å‘å®è·µç¬”è®°.html" class="nav-link">
  VUEå¼€å‘å®è·µç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/frontendframe/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/å¸¸ç”¨è°ƒè¯•å·¥å…·å’ŒæŠ“åŒ…å·¥å…·.html" class="nav-link">
  å¸¸ç”¨è°ƒè¯•å·¥å…·å’ŒæŠ“åŒ…å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/others/W3Cå­¦ä¹ .html" class="nav-link">
  W3Cå­¦ä¹ 
</a></li><li class="dropdown-item"><!----> <a href="/others/CSharpç¬”è®°.html" class="nav-link">
  CSharpç¬”è®°
</a></li><li class="dropdown-item"><!----> <a href="/others/echarts.html" class="nav-link">
  echarts
</a></li><li class="dropdown-item"><!----> <a href="/others/dojo&amp;å…¼å®¹é—®é¢˜.html" class="nav-link">
  dojo&amp;å…¼å®¹é—®é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/others/httpç½‘ç»œè¯·æ±‚çŠ¶æ€ç .html" class="nav-link">
  httpç½‘ç»œè¯·æ±‚çŠ¶æ€ç 
</a></li><li class="dropdown-item"><!----> <a href="/others/SqlServer.html" class="nav-link">
  SqlServer
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®è·µæ€»ç»“" class="dropdown-title"><span class="title">å®è·µæ€»ç»“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®è·µæ€»ç»“" class="mobile-dropdown-title"><span class="title">å®è·µæ€»ç»“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/practice/blank.html" class="nav-link">
  å¾…æ›´æ–°
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  å…³äºæˆ‘
</a></div><div class="nav-item"><a href="https://github.com/bhuangdev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å†å²å‰ç«¯æ¡†æ¶ç¬”è®°</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontendframe/historynotes.html#åŠ¨æ€åˆ‡æ¢ç»„ä»¶" class="sidebar-link">åŠ¨æ€åˆ‡æ¢ç»„ä»¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼" class="sidebar-link">vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#tableç»„ä»¶-å†™columns-å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹" class="sidebar-link">tableç»„ä»¶ å†™columns å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#æ—¥æœŸç»„ä»¶" class="sidebar-link">æ—¥æœŸç»„ä»¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#drags" class="sidebar-link">drags</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­" class="sidebar-link">æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#el-date-picker" class="sidebar-link">el-date-picker</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#el-tableåˆ†é¡µ" class="sidebar-link">el-tableåˆ†é¡µ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#el-table-è¡Œå†…åŠ form-ruleéªŒè¯" class="sidebar-link">el-table è¡Œå†…åŠ form ruleéªŒè¯</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#foreach-filter" class="sidebar-link">forEach filter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="sidebar-link">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§" class="sidebar-link">ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#å¯¼å…¥å¯¼å‡º" class="sidebar-link">å¯¼å…¥å¯¼å‡º</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#åŒ¹é…æ‹¼æ¥" class="sidebar-link">åŒ¹é…æ‹¼æ¥</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼" class="sidebar-link">tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontendframe/historynotes.html#js-æ•°ç»„å¯¹è±¡-ä»¥æŸä¸€å¯¹è±¡-æ’åº" class="sidebar-link">js æ•°ç»„å¯¹è±¡ ä»¥æŸä¸€å¯¹è±¡ æ’åº</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å†å²å‰ç«¯æ¡†æ¶ç¬”è®°"><a href="#å†å²å‰ç«¯æ¡†æ¶ç¬”è®°" class="header-anchor">#</a> å†å²å‰ç«¯æ¡†æ¶ç¬”è®°</h1> <h2 id="åŠ¨æ€åˆ‡æ¢ç»„ä»¶"><a href="#åŠ¨æ€åˆ‡æ¢ç»„ä»¶" class="header-anchor">#</a> åŠ¨æ€åˆ‡æ¢ç»„ä»¶</h2> <p>https://blog.csdn.net/liangmengbk/article/details/85013547</p> <h2 id="vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼" class="header-anchor">#</a> vueé¡µé¢ç»„ä»¶åŒ–-çˆ¶å­ç»„ä»¶ä¼ å€¼</h2> <blockquote><p>é¡µé¢ç»„ä»¶åŒ–æ¶‰åŠåˆ°çˆ¶å­ç»„ä»¶ä¼ å€¼çš„é—®é¢˜ï¼Œéœ€è¦ç”¨åˆ°propså’Œemit</p></blockquote> <ul><li>çˆ¶ç»„ä»¶å¼•</li></ul> <div class="language- extra-class"><pre class="language-text"><code> &lt;Dialog
 	:dialogVisible=&quot;visible&quot;   //éœ€è¦å‘å­ç»„ä»¶ä¼ å€¼çš„å±æ€§
 	:title=&quot;title&quot;
	:width=&quot;width&quot;
 	@changeVisible=&quot;changeV&quot;   //å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼åŠæ“ä½œçš„é€”å¾„æ–¹æ³•
 /&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>import Dialog from &quot;@/newsModules/noticeDialog&quot;;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>components: {
	Dialog
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>dataé‡Œ
visibleï¼šfalse,
title:&quot;&quot;,
width:&quot;&quot;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>changeV(e) {
	this.visible = e;    //eæ˜¯ä»å­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼
	this.getNoticeData(); //å­ç»„ä»¶ä¼ å€¼çš„åŒæ—¶è°ƒç”¨çˆ¶ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•æ¥åˆ·æ–°çˆ¶ç»„ä»¶çš„å€¼
}
</code></pre></div><ul><li>å­ç»„ä»¶å®šä¹‰</li></ul> <div class="language- extra-class"><pre class="language-text"><code>balabala(ç»„ä»¶ä»£ç )
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>props: {    //ç”¨propså®šä¹‰éœ€è¦ä»çˆ¶ç»„ä»¶æ¥æ”¶å€¼çš„å˜é‡
    dialogVisible: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default: &quot;&quot;
    },
    width: {
      type: String,
      default: &quot;&quot;
    }
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>handleClose() {
	this.$emit(&quot;changeVisible&quot;, false);  //æŠŠfalseä½œä¸ºå€¼ä¼ ç»™changeVisibleæ–¹æ³•
}
</code></pre></div><h2 id="tableç»„ä»¶-å†™columns-å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹"><a href="#tableç»„ä»¶-å†™columns-å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹" class="header-anchor">#</a> tableç»„ä»¶ å†™columns å±æ€§æ—¶renderè‡ªå®šä¹‰å†…å®¹</h2> <div class="language- extra-class"><pre class="language-text"><code>prop: &quot;action&quot;,
label: this.$t(&quot;noticePage.OPERATE&quot;),
align: &quot;center&quot;,
tableWidth: 260,
render: (createElement, params) =&gt; {
    return createElement(&quot;div&quot;, [
        createElement(
            &quot;td-button&quot;,
            {
                style: &quot;min-width:25px !important&quot;,
                attrs: {
                	type: &quot;text&quot;
                },

                on: {
                    click: _ =&gt; {
                    	this.openDialog(params.row);
                    }
                }
            },
            &quot;ç¼–è¾‘&quot;
        )
    ]);
    }
}
</code></pre></div><h2 id="æ—¥æœŸç»„ä»¶"><a href="#æ—¥æœŸç»„ä»¶" class="header-anchor">#</a> æ—¥æœŸç»„ä»¶</h2> <ul><li>æ—¥æœŸé™åˆ¶</li></ul> <div class="language- extra-class"><pre class="language-text"><code>pickerBeginDateBefore: {
    disabledDate: time =&gt; {
        let beginDateVal = new Date(this.ruleForm.patrolEndTime).getTime();
        if (beginDateVal) {
        	return time.getTime() &gt; beginDateVal;   //å¼€å§‹æ—¥æœŸå°äºç»“æŸæ—¥æœŸ
        }
    }
},
pickerBeginDateAfter: {
    disabledDate: time =&gt; {
        let beginDateVal = new Date(this.ruleForm.patrolStartTime).getTime();
        if (beginDateVal) {
            return (                //ç»“æŸæ—¥æœŸå¤§äºå¼€å§‹æ—¥æœŸä¸”å°äºå¼€å§‹æ—¥æœŸåŠ 7å¤©
                time.getTime() &lt; beginDateVal - 24 * 60 * 60 * 1000 ||
                time.getTime() &gt; beginDateVal + 30 * 24 * 60 * 60 * 1000
            );
        }
    }
}
</code></pre></div><h2 id="drags"><a href="#drags" class="header-anchor">#</a> drags</h2> <p>https://blog.csdn.net/weixin_41910848/article/details/82218243</p> <h2 id="æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­"><a href="#æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­" class="header-anchor">#</a> æ·»åŠ å’Œæ›´æ–°è°ƒåŒä¸€ä¸ªç»„ä»¶æ—¶çš„åˆ¤æ–­</h2> <div class="language- extra-class"><pre class="language-text"><code>if (this.title == &quot;æ·»åŠ &quot;) {
    this.addItems();
    this.$nextTick(() =&gt; {
    	this.dialogClose();
    });
} else {
    this.editItems();
    this.$nextTick(() =&gt; {
    	this.dialogClose();
    });
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>dialogClose() {
    this.$emit(&quot;changeVisible&quot;, false);  //å…³é—­
    this.$emit(&quot;changeData&quot;);			 //åˆ·æ–°
}
</code></pre></div><h2 id="el-date-picker"><a href="#el-date-picker" class="header-anchor">#</a> el-date-picker</h2> <p>initDefaultDate() {</p> <p>var s1 = moment(new Date()).format(&quot;YYYY-MM-DD 08:00:00&quot;);</p> <p>var s2 = moment(new Date()).format(&quot;YYYY-MM-DD 17:00:00&quot;);</p> <p>this.leaveForm.leaveDate = [s1, s2];</p> <p>this.leaveForm.totalHour = 8;</p> <p>}</p> <p>changeDate() {</p> <p>var from = moment(new Date(this.leaveForm.leaveDate[0])).format(</p> <p>â€‹    this.leaveForm.leaveDate[0].getMinutes() &gt;= 30</p> <p>â€‹     ? &quot;YYYY-MM-DD HH:30:00&quot;</p> <p>â€‹     : &quot;YYYY-MM-DD HH:00:00&quot;</p> <p>);</p> <p>var to = moment(new Date(this.leaveForm.leaveDate[1])).format(</p> <p>â€‹    this.leaveForm.leaveDate[1].getMinutes() &gt;= 30</p> <p>â€‹     ? &quot;YYYY-MM-DD HH:30:00&quot;</p> <p>â€‹     : &quot;YYYY-MM-DD HH:00:00&quot;</p> <p>);</p> <p>this.leaveForm.leaveDate = [from, to];</p> <p>var fromDate = from.toString().split(&quot; &quot;)[0];</p> <p>var toDate = to.toString().split(&quot; &quot;)[0];</p> <p>var fromDateArr = fromDate.split(&quot;-&quot;);</p> <p>var toDateArr = toDate.split(&quot;-&quot;);</p> <p>var totalDays = Math.abs(</p> <p>â€‹    (new Date(</p> <p>â€‹     fromDateArr[1] + &quot;-&quot; + fromDateArr[2] + &quot;-&quot; + fromDateArr[0]</p> <p>â€‹    ) -</p> <p>â€‹     new Date(toDateArr[1] + &quot;-&quot; + toDateArr[2] + &quot;-&quot; + toDateArr[0])) /</p> <p>â€‹     1000 /</p> <p>â€‹     60 /</p> <p>â€‹     60 /</p> <p>â€‹     24</p> <p>);</p> <p>var totalDaysfloor = Math.floor(totalDays);</p> <p>var totalHour = 0;</p> <p>if (0 !== totalDays) {</p> <p>â€‹    totalHour = totalDaysfloor * 8;</p> <p>â€‹    var additionalHour = to.toString().split(&quot; &quot;)[1].split(&quot;ğŸ˜Š[0];</p> <p>â€‹    totalHour += additionalHour &gt; 8 ? additionalHour - 8 : 0;</p> <p>} else {</p> <p>â€‹    var fromTime = from.toString().split(&quot; &quot;)[1];</p> <p>â€‹    var toTime = to.toString().split(&quot; &quot;)[1];</p> <p>â€‹    totalHour = Math.abs(toTime.split(&quot;ğŸ˜Š[0] - fromTime.split(&quot;ğŸ˜Š[0]);</p> <p>}</p> <p>this.leaveForm.totalHour = totalHour;</p> <p>},</p> <h2 id="el-tableåˆ†é¡µ"><a href="#el-tableåˆ†é¡µ" class="header-anchor">#</a> el-tableåˆ†é¡µ</h2> <blockquote><p>æ³¨æ„ï¼štotalä¸€å®šè¦èµ‹å€¼</p></blockquote> <ol><li>el-tableå±æ€§</li></ol> <div class="language- extra-class"><pre class="language-text"><code>:data=&quot;tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)&quot;
</code></pre></div><ol start="2"><li>åˆ†é¡µä»£ç </li></ol> <div class="language- extra-class"><pre class="language-text"><code>&lt;div style=&quot;text-align: center;margin-top: 30px;&quot;&gt;
	&lt;el-pagination
		background
		layout=&quot;prev, pager, next&quot;
		:total=&quot;total&quot;
		@current-change=&quot;current_change&quot;
	&gt;&lt;/el-pagination&gt;
&lt;/div
</code></pre></div><ol start="3"><li>dataä¸­å®šä¹‰</li></ol> <div class="language- extra-class"><pre class="language-text"><code>total: 0,
pagesize: 10,
currentPage: 1
</code></pre></div><ol start="4"><li>methodsä¸­å®šä¹‰</li></ol> <div class="language- extra-class"><pre class="language-text"><code>current_change: function (currentPage) {
	this.currentPage = currentPage;
}
</code></pre></div><h2 id="el-table-è¡Œå†…åŠ form-ruleéªŒè¯"><a href="#el-table-è¡Œå†…åŠ form-ruleéªŒè¯" class="header-anchor">#</a> el-table è¡Œå†…åŠ form ruleéªŒè¯</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;el-table-column :label=&quot;SCORE&quot; align=&quot;center&quot;&gt;
              &lt;template slot-scope=&quot;scope&quot;&gt;
                &lt;el-form :model=&quot;scope.row&quot; :rules=&quot;scoreRules&quot; ref=&quot;scoreRef&quot; z-index=&quot;999&quot;&gt;
                  &lt;el-form-item prop=&quot;aScore&quot;&gt;
                    &lt;td-input
                      v-model=&quot;scope.row.aScore&quot;
                      id=&quot;scoreInput&quot;
                      style=&quot;width:100px !important;&quot;
                    &gt;&lt;/td-input&gt;
                  &lt;/el-form-item&gt;
                &lt;/el-form&gt;
              &lt;/template&gt;
            &lt;/el-table-column&gt;
</code></pre></div><h2 id="foreach-filter"><a href="#foreach-filter" class="header-anchor">#</a> forEach filter</h2> <div class="language- extra-class"><pre class="language-text"><code>schedulingListTemp.forEach((element) =&gt; {
                    var patrolUserIdTemp = element.patrolUserId;
                    var item = response.data.content.filter(
                      (t) =&gt; t.id == patrolUserIdTemp
                    );
                    if (item.length != 0) {
                      var temp = {};
                      temp.patrolPName = item[0].name;
                      temp.patrolPNameShow =
                        item[0].name + &quot;(&quot; + item[0].personNo + &quot;)&quot;;
                      temp.patrolPeopleOrganizetion = item[0].deptName;
                      temp.patrolRouteText = element.patrolRouteText;
                      temp.patrolBeginTime = element.patrolBeginTime;
                      temp.patrolEndTime = element.patrolEndTime;
                      temp.patrolUserId = element.patrolUserId;
                      temp.patrolLineId = element.patrolLineId;
                      _this.schedulingList.push(temp);
                    } else {
                      var temp2 = {};
                      temp2.patrolPName = &quot;&quot;;
                      temp2.patrolPNameShow = &quot;&quot;;
                      temp2.patrolPeopleOrganizetion = &quot;&quot;;
                      temp2.patrolRouteText = element.patrolRouteText;
                      temp2.patrolBeginTime = element.patrolBeginTime;
                      temp2.patrolEndTime = element.patrolEndTime;
                      temp2.patrolUserId = element.patrolUserId;
                      temp2.patrolLineId = element.patrolLineId;
                      _this.schedulingList.push(temp2);
                    }
                  });
</code></pre></div><h2 id="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="header-anchor">#</a> å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h2> <ul><li>ç”¨</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;Editor v-model=&quot;noticeContent&quot; /&gt;
</code></pre></div><ul><li>å¼•</li></ul> <div class="language- extra-class"><pre class="language-text"><code>import Editor from '@/components/Editor';
components: {
	Editor
}
noticeContent:&quot;&quot;
</code></pre></div><ul><li>æº</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div&gt;
    &lt;!-- å›¾ç‰‡ä¸Šä¼ ç»„ä»¶è¾…åŠ© --&gt;
    &lt;el-upload
      class=&quot;avatar-uploader quill-img&quot;
      :action=&quot;uploadImgUrl&quot;
      name=&quot;file&quot;
      :headers=&quot;headers&quot;
      :show-file-list=&quot;false&quot;
      :on-success=&quot;quillImgSuccess&quot;
      :on-error=&quot;uploadError&quot;
      :before-upload=&quot;quillImgBefore&quot;
      accept=&quot;.jpg, .jpeg, .png, .gif&quot;
    &gt;&lt;/el-upload&gt;

    &lt;!-- å¯Œæ–‡æœ¬ç»„ä»¶ --&gt;
    &lt;quill-editor
      class=&quot;editor&quot;
      v-model=&quot;content&quot;
      ref=&quot;quillEditor&quot;
      :options=&quot;editorOption&quot;
      @blur=&quot;onEditorBlur($event)&quot;
      @focus=&quot;onEditorFocus($event)&quot;
      @change=&quot;onEditorChange($event)&quot;
    &gt;&lt;/quill-editor&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { getToken } from &quot;@/utils/auth&quot;;

// å·¥å…·æ é…ç½®
const toolbarOptions = [
  [&quot;bold&quot;, &quot;italic&quot;, &quot;underline&quot;, &quot;strike&quot;], // åŠ ç²— æ–œä½“ ä¸‹åˆ’çº¿ åˆ é™¤çº¿
  [&quot;blockquote&quot;, &quot;code-block&quot;], // å¼•ç”¨  ä»£ç å—
  [{ list: &quot;ordered&quot; }, { list: &quot;bullet&quot; }], // æœ‰åºã€æ— åºåˆ—è¡¨
  [{ indent: &quot;-1&quot; }, { indent: &quot;+1&quot; }], // ç¼©è¿›
  [{ size: [&quot;small&quot;, false, &quot;large&quot;, &quot;huge&quot;] }], // å­—ä½“å¤§å°
  [{ header: [1, 2, 3, 4, 5, 6, false] }], // æ ‡é¢˜
  [{ color: [] }, { background: [] }], // å­—ä½“é¢œè‰²ã€å­—ä½“èƒŒæ™¯é¢œè‰²
  [{ align: [] }], // å¯¹é½æ–¹å¼
  [&quot;clean&quot;], // æ¸…é™¤æ–‡æœ¬æ ¼å¼
  [&quot;link&quot;, &quot;image&quot;, &quot;video&quot;], // é“¾æ¥ã€å›¾ç‰‡ã€è§†é¢‘
];

import { quillEditor } from &quot;vue-quill-editor&quot;;
import &quot;quill/dist/quill.core.css&quot;;
import &quot;quill/dist/quill.snow.css&quot;;
import &quot;quill/dist/quill.bubble.css&quot;;

export default {
  props: {
    /* ç¼–è¾‘å™¨çš„å†…å®¹ */
    value: {
      type: String,
    },
    /* å›¾ç‰‡å¤§å° */
    maxSize: {
      type: Number,
      default: 4000, //kb
    },
  },
  components: { quillEditor },
  data() {
    return {
      content: this.value,
      uploadImgUrl: &quot;&quot;,
      editorOption: {
        placeholder: &quot;&quot;,
        theme: &quot;snow&quot;, // or 'bubble'
        placeholder: &quot;è¯·è¾“å…¥å†…å®¹&quot;,
        modules: {
          toolbar: {
            container: toolbarOptions,
            handlers: {
              image: function (value) {
                if (value) {
                  // è§¦å‘inputæ¡†é€‰æ‹©å›¾ç‰‡æ–‡ä»¶
                  document.querySelector(&quot;.quill-img input&quot;).click();
                } else {
                  this.quill.format(&quot;image&quot;, false);
                }
              },
            },
          },
        },
      },
      uploadImgUrl: process.env.VUE_APP_BASE_API + &quot;/common/upload&quot;, // ä¸Šä¼ çš„å›¾ç‰‡æœåŠ¡å™¨åœ°å€ï¼ˆè¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼‰
      headers: {
        Authorization: &quot;Bearer &quot; + getToken(),ï¼ˆè¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼‰
      },
    };
  },
  watch: {
    value: function () {
      this.content = this.value;
    },
  },
  methods: {
    onEditorBlur() {
      //å¤±å»ç„¦ç‚¹äº‹ä»¶
    },
    onEditorFocus() {
      //è·å¾—ç„¦ç‚¹äº‹ä»¶
    },
    onEditorChange() {
      //å†…å®¹æ”¹å˜äº‹ä»¶
      this.$emit(&quot;input&quot;, this.content);
    },

    // å¯Œæ–‡æœ¬å›¾ç‰‡ä¸Šä¼ å‰
    quillImgBefore(file) {
      let fileType = file.type;
      if (fileType === &quot;image/jpeg&quot; || fileType === &quot;image/png&quot;) {
        return true;
      } else {
        this.$message.error(&quot;è¯·æ’å…¥å›¾ç‰‡ç±»å‹æ–‡ä»¶(jpg/jpeg/png)&quot;);
        return false;
      }
    },

    quillImgSuccess(res, file) {
      // resä¸ºå›¾ç‰‡æœåŠ¡å™¨è¿”å›çš„æ•°æ®
      // è·å–å¯Œæ–‡æœ¬ç»„ä»¶å®ä¾‹
      let quill = this.$refs.quillEditor.quill;
      // å¦‚æœä¸Šä¼ æˆåŠŸ
      if (res.code == 200) {
        // è·å–å…‰æ ‡æ‰€åœ¨ä½ç½®
        let length = quill.getSelection().index;
        // æ’å…¥å›¾ç‰‡  res.urlä¸ºæœåŠ¡å™¨è¿”å›çš„å›¾ç‰‡åœ°å€
        quill.insertEmbed(length, &quot;image&quot;, res.url);
        // è°ƒæ•´å…‰æ ‡åˆ°æœ€å
        quill.setSelection(length + 1);
      } else {
        this.$message.error(&quot;å›¾ç‰‡æ’å…¥å¤±è´¥&quot;);
      }
    },
    // å¯Œæ–‡æœ¬å›¾ç‰‡ä¸Šä¼ å¤±è´¥
    uploadError() {
      // loadingåŠ¨ç”»æ¶ˆå¤±
      this.$message.error(&quot;å›¾ç‰‡æ’å…¥å¤±è´¥&quot;);
    },
  },
};
&lt;/script&gt; 

&lt;style&gt;
.editor {
  line-height: normal !important;
  height: 692px;
}
.quill-img {
  display: none;
}
.ql-snow .ql-tooltip[data-mode=&quot;link&quot;]::before {
  content: &quot;è¯·è¾“å…¥é“¾æ¥åœ°å€:&quot;;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
  border-right: 0px;
  content: &quot;ä¿å­˜&quot;;
  padding-right: 0px;
}

.ql-snow .ql-tooltip[data-mode=&quot;video&quot;]::before {
  content: &quot;è¯·è¾“å…¥è§†é¢‘åœ°å€:&quot;;
}

.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
  content: &quot;14px&quot;;
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=&quot;small&quot;]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=&quot;small&quot;]::before {
  content: &quot;10px&quot;;
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=&quot;large&quot;]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=&quot;large&quot;]::before {
  content: &quot;18px&quot;;
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=&quot;huge&quot;]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=&quot;huge&quot;]::before {
  content: &quot;32px&quot;;
}

.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
  content: &quot;æ–‡æœ¬&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;1&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;1&quot;]::before {
  content: &quot;æ ‡é¢˜1&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;2&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;2&quot;]::before {
  content: &quot;æ ‡é¢˜2&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;3&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;3&quot;]::before {
  content: &quot;æ ‡é¢˜3&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;4&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;4&quot;]::before {
  content: &quot;æ ‡é¢˜4&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;5&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;5&quot;]::before {
  content: &quot;æ ‡é¢˜5&quot;;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=&quot;6&quot;]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=&quot;6&quot;]::before {
  content: &quot;æ ‡é¢˜6&quot;;
}

.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
  content: &quot;æ ‡å‡†å­—ä½“&quot;;
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=&quot;serif&quot;]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=&quot;serif&quot;]::before {
  content: &quot;è¡¬çº¿å­—ä½“&quot;;
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=&quot;monospace&quot;]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=&quot;monospace&quot;]::before {
  content: &quot;ç­‰å®½å­—ä½“&quot;;
}
&lt;/style&gt;
</code></pre></div><h2 id="ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§"><a href="#ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§" class="header-anchor">#</a> ç»„ä»¶å¼ºåˆ¶åˆ·æ–°æŠ€å·§</h2> <blockquote><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°åŠ¨æ€å–å€¼ä¹‹åvueç»„ä»¶ä¸èƒ½åˆ·æ–°çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•å°±æ˜¯åˆ©ç”¨v-ifï¼Œæ”¹å˜çŠ¶æ€ï¼Œå¼ºåˆ¶åˆ·æ–°</p></blockquote> <ul><li>åœ¨è¦åˆ·æ–°çš„ç»„ä»¶ä¸Šå®šä¹‰v-if=&quot;hackReset&quot;</li></ul> <div class="language- extra-class"><pre class="language-text"><code>v-if=&quot;hackReset&quot;
</code></pre></div><ul><li>dataé‡Œå®šä¹‰å˜é‡</li></ul> <div class="language- extra-class"><pre class="language-text"><code>hackReset: true
</code></pre></div><ul><li>åœ¨éœ€è¦åˆ·æ–°çš„ä½ç½®åŠ ä¸Šåˆ·æ–°ä»£ç </li></ul> <div class="language- extra-class"><pre class="language-text"><code>this.hackReset = false;
this.$nextTick(() =&gt; {
	this.hackReset = true;
});
</code></pre></div><h2 id="å¯¼å…¥å¯¼å‡º"><a href="#å¯¼å…¥å¯¼å‡º" class="header-anchor">#</a> å¯¼å…¥å¯¼å‡º</h2> <ul><li>å¯¼å‡º</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;el-button type=&quot;primary&quot; @click=&quot;btnExport&quot;&gt;å¯¼å‡º&lt;/el-button&gt;

btnExport() {
      let queryParam = {};
      api.exportData(queryParam, response =&gt; {
        if (response.data.statusMessage === &quot;-1&quot;) {
          this.$message({
            showClose: true,
            message: &quot;å¯¼å‡ºå¤±è´¥&quot;,
            type: &quot;error&quot;
          });
          return;
        }
        this.doDownload(response.request.responseURL);
        this.$message({
          showClose: true,
          message: &quot;å¯¼å‡ºæˆåŠŸï¼&quot;,
          type: &quot;success&quot;
        });
      });
    },
    doDownload(src) {
      var a = document.createElement(&quot;a&quot;);
      a.href = src;
      document.body.appendChild(a);
      a.click();
    }
</code></pre></div><ul><li>å¯¼å…¥</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;el-button type=&quot;primary&quot; @click=&quot;btnImport&quot;&gt;å¯¼å…¥&lt;/el-button&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>btnImport() {
	this.importVisible = true
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div&gt;
    &lt;td-dialog
      :visible=&quot;importVisible&quot;
      v-dialogDrag
      :title=&quot;IMPORT&quot;
      width=&quot;25%&quot;
      :before-close=&quot;importDialogClose&quot;
    &gt;
      &lt;el-row&gt;
        &lt;el-col :span=&quot;16&quot; style=&quot;margin-top:10px;margin-bottom:5px;&quot;&gt;
          &lt;td-button type=&quot;primary&quot; @click=&quot;chooseFile&quot;&gt;{{SELECTFILE}}&lt;/td-button&gt;
          &lt;td-button @click=&quot;upLoadFile&quot;&gt;{{UPLOADFILE}}&lt;/td-button&gt;
        &lt;/el-col&gt;
        &lt;el-col style=&quot;margin-bottom:30px;&quot;&gt;
          &lt;span style=&quot;font-size:10px;&quot;&gt;{{ONLIEXCEL}}&lt;/span&gt;
        &lt;/el-col&gt;
        &lt;el-col style=&quot;margin-bottom:30px;text-align:center&quot;&gt;
          &lt;span style=&quot;font-size:14px; color:#666&quot;&gt;{{uploadFileName}}&lt;/span&gt;
          &lt;td-button
            @click=&quot;removeFile&quot;
            type=&quot;text&quot;
            size=&quot;small&quot;
            v-show=&quot;uploadFileName != ''&quot;
            style=&quot;font-size:14px; color:#000; padding-left: 30px&quot;
          &gt;{{DELFILE}}&lt;/td-button&gt;
          &lt;input type=&quot;file&quot; id=&quot;btn_file&quot; style=&quot;display:none&quot; accept=&quot;.xls&quot; ref=&quot;btnFile&quot; /&gt;
        &lt;/el-col&gt;
      &lt;/el-row&gt;
      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
        &lt;td-button @click=&quot;importTemplate&quot;&gt;{{IMPORTMODELDOWNLOAD}}&lt;/td-button&gt;
        &lt;td-button @click=&quot;importCancel&quot;&gt;{{CANCEL}}&lt;/td-button&gt;
      &lt;/span&gt;
    &lt;/td-dialog&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import api from &quot;@/assets/api&quot;;
export default {
  props: {
    importVisible: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      IMPORT: this.$t(&quot;sightWordImportDialog.IMPORT&quot;),
      SELECTFILE: this.$t(&quot;sightWordImportDialog.SELECTFILE&quot;),
      UPLOADFILE: this.$t(&quot;sightWordImportDialog.UPLOADFILE&quot;),
      ONLIEXCEL: this.$t(&quot;sightWordImportDialog.ONLIEXCEL&quot;),
      DELFILE: this.$t(&quot;sightWordImportDialog.DELFILE&quot;),
      IMPORTMODELDOWNLOAD: this.$t(&quot;sightWordImportDialog.IMPORTMODELDOWNLOAD&quot;),
      CANCEL: this.$t(&quot;sightWordImportDialog.CANCEL&quot;),
      uploadFileName: &quot;&quot;
    };
  },
  methods: {
    importDialogClose() {
      this.$emit(&quot;importDialogClose&quot;);
    },
    importTemplate() {
      let aTag = document.createElement(&quot;a&quot;);
      aTag.href =
        &quot;http://192.168.96.44:7000/mclz/filemanagement/sightWordTemplate.xls&quot;;
      document.body.appendChild(aTag);
      aTag.click();
    },
    chooseFile() {
      let _this = this;
      let btnImport = this.$refs.btnFile;
      btnImport.click();
      btnImport.onchange = function() {
        _this.importData(btnImport.files);
      };
    },
    importData(files) {
      if (files.length &gt; 0) {
        let fileName = files[files.length - 1].name;
        if (fileName.indexOf(&quot;.xls&quot;, fileName.length - &quot;.xls&quot;.length) === -1) {
          this.$message.error({
            showClose: true,
            message: $t(&quot;sightWordImportDialog.EILEMESSAGEERROR&quot;)
          });
          this.$refs.btnFile.value = &quot;&quot;;
          return;
        } else {
          if (files[files.length - 1].size / 1024 / 1024 &gt; 300) {
            this.$message.error({
              showClose: true,
              message: $t(&quot;sightWordImportDialog.FILESIZELESS300M&quot;)
            });
            this.$refs.btnFile.value = &quot;&quot;;
            return;
          }
          this.uploadFileName = fileName;
        }
      }
    },
    upLoadFile() {
      let files = this.$refs.btnFile.files;
      if (files.length === 0) {
        this.$message.error({
          showClose: true,
          message: $t(&quot;sightWordImportDialog.FILESIZELESS300M&quot;)
        });
        this.$refs.btnFile.value = &quot;&quot;;
        return;
      }
      let header = {};
      let params = new FormData();
      params.append(&quot;file&quot;, this.$refs.btnFile.files[files.length - 1]);
      api.importData(params, response =&gt; {
        if (response.data.statusCode === &quot;API-COMMON-INF-OK&quot;) {
          this.$message({
            showClose: true,
            message: $t(&quot;sightWordImportDialog.FILESIZELESS300M&quot;),
            type: &quot;success&quot;
          });
          this.importDialogClose();
        } else {
          this.$message({
            showClose: true,
            message: $t(&quot;sightWordImportDialog.FILESIZELESS300M&quot;),
            type: &quot;error&quot;
          });
        }
        this.$refs.btnFile.value = &quot;&quot;;
        this.uploadFileName = &quot;&quot;;
      });
    },
    removeFile() {
      this.$refs.btnFile.value = &quot;&quot;;
      this.uploadFileName = &quot;&quot;;
    },
    importCancel() {
      this.importDialogClose();
    }
  }
};
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;
</code></pre></div><h2 id="åŒ¹é…æ‹¼æ¥"><a href="#åŒ¹é…æ‹¼æ¥" class="header-anchor">#</a> åŒ¹é…æ‹¼æ¥</h2> <div class="language- extra-class"><pre class="language-text"><code>for (var i = 0; i &lt; _this.patrolPeople.length; i++) {
          if (_this.patrolPeople[i].patrolPName.match(_this.patrolUserName)) {
            userIdTempArray.push(_this.patrolPeople[i].patrolPId);
          }
        }
        userId = userIdTempArray.join(&quot;,&quot;);
        if (userId === &quot;&quot;) {
          _this.schedulingList = [];
          _this.total = 0;
          return;
        }
</code></pre></div><h2 id="tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼"><a href="#tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼" class="header-anchor">#</a> tableä¸­åˆ—å€¼åŠ¨æ€èµ‹æ ·å¼</h2> <ul><li>æ ¹æ®æ¯ä¸€åˆ—alert0show,alert1show,alert3showçš„å€¼æ¥ç¡®å®šæ˜¾ç¤ºå“ªä¸ªå›¾æ ‡</li> <li>æ ¹æ®æ¯ä¸€åˆ—patrolAlarmçš„å€¼æ¥è®¾å®šæ–‡å­—çš„æ ·å¼  ï¼ˆåŠ¨æ€èµ‹class,classé‡Œå®šä¹‰æ ·å¼ï¼‰</li></ul> <div class="language- extra-class"><pre class="language-text"><code> &lt;el-table-column prop=&quot;patrolAlarm&quot;  width=&quot;148&quot; align=&quot;center&quot;&gt;
     &lt;template slot-scope=&quot;scope&quot;&gt;
     &lt;i class=&quot;el-icon-success&quot; v-show=&quot;scope.row.alert0show&quot; style=&quot;color:#7E9913&quot;&gt;&lt;/i&gt;
     &lt;i class=&quot;el-icon-warning&quot; v-show=&quot;scope.row.alert1show&quot; style=&quot;color:#FA4F4F&quot;&gt;&lt;/i&gt;
     &lt;i class=&quot;el-icon-time&quot; v-show=&quot;scope.row.alert3show&quot; style=&quot;color:#7E9913&quot;&gt;&lt;/i&gt;&amp;nbsp;
     &lt;span
     :class=&quot;((scope.row.patrolAlarm === '1') || (scope.row.patrolAlarm === '4') || (scope.row.patrolAlarm === '5')) ? 'redColor':'greenColor'&quot;
     &gt;{{scope.row.sAlertType}}&lt;/span&gt;
     &lt;/template&gt;
 &lt;/el-table-column&gt;
</code></pre></div><h2 id="js-æ•°ç»„å¯¹è±¡-ä»¥æŸä¸€å¯¹è±¡-æ’åº"><a href="#js-æ•°ç»„å¯¹è±¡-ä»¥æŸä¸€å¯¹è±¡-æ’åº" class="header-anchor">#</a> js æ•°ç»„å¯¹è±¡ ä»¥æŸä¸€å¯¹è±¡ æ’åº</h2> <p>this.tableData.sort(this.compare('formateDate'))
compare(property){<br>
return function(a,b){
var value1 = a[property];
var value2 = b[property];
return value2 - value1;
}
}</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/31/2021, 6:22:33 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c519572e.js" defer></script><script src="/assets/js/2.b6ef3095.js" defer></script><script src="/assets/js/3.fa77217e.js" defer></script><script src="/assets/js/15.dd5feed6.js" defer></script>
  </body>
</html>
